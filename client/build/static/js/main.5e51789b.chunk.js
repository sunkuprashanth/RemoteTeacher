(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(21),r=a.n(c),s=a(5),o=a(11),l=a.n(o),i=a(17),j=a(13),b=a.n(j),d="REGISTER_USER",u="GET_USER",m="LOGIN_USER",h="GET_TEACHERS",p="GET_BOOKINGS",O="ADD_BOOKING",g="LOG_OUT",x="LOGS_ERROR",f="SET_LOADING",v="FILTER",y=function(e){e?b.a.defaults.headers.common["x-auth-token"]=e:delete b.a.defaults.headers.common["x-auth-token"]},k=function(){return function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E()),a={headers:{"Content-Type":"application/json"}},localStorage.token&&y(localStorage.token),e.prev=3,e.next=6,b.a.get("/api/users",a);case 6:n=e.sent,console.log(n.data),t({type:u,payload:n.data}),t(w()),t(N()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0),t({type:x,payload:e.t0});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},N=function(){return function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E()),e.prev=1,localStorage.token&&y(localStorage.token),e.next=5,b.a.get("/api/booking");case 5:a=e.sent,t({type:p,payload:a.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:x,payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},w=function(){return function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E()),e.prev=1,e.next=4,b.a.get("/api/teacher");case 4:a=e.sent,t({type:h,payload:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t({type:x,payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},E=function(){return{type:f,payload:"0"}},S=a(4),C=a(6),T=a(0);var R=Object(s.b)((function(e){return{isAuthenticated:e.user.isAuthenticated}}),{loadUser:k,logout:function(){return console.log("logged"),{type:g}}})((function(e){var t=e.isAuthenticated,a=e.loadUser,c=e.logout;return Object(n.useEffect)((function(){a()}),[]),Object(T.jsxs)("nav",{className:"navbar navbar-light bg-dark",children:[Object(T.jsx)("h4",{className:"",children:Object(T.jsx)(C.b,{className:"text-light nav-link",to:"/",children:"Remote Teacher"})}),Object(T.jsx)("div",{className:"row",children:t?Object(T.jsxs)(n.Fragment,{children:[Object(T.jsx)("div",{className:"col-sm-3 mr-5",children:Object(T.jsx)(C.b,{className:"nav-link text-light",to:"/bookings",children:"Bookings"})}),Object(T.jsx)("div",{className:"col-sm-3 ml-2",children:Object(T.jsx)(C.b,{className:"text-dark btn bg-light",onClick:function(){console.log("logout"),c(),S.a},to:"/login",children:"Logout"})})]}):Object(T.jsxs)(n.Fragment,{children:[Object(T.jsx)("div",{className:"col-sm-3 mr-4",children:Object(T.jsx)(C.b,{className:"nav-link text-light",to:"/register",children:"Register"})}),Object(T.jsx)("div",{className:"col-sm-3 ml-2",children:Object(T.jsx)(C.b,{className:"nav-link text-light",to:"/login",children:"Login"})})]})})]})})),A=a(15),U=a(2),_=a(14);var L=Object(s.b)(null,{loginUser:function(e){return function(){var t=Object(i.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(E()),n={headers:{"Content-Type":"application/json"}},console.log(e),t.next=6,b.a.post("/api/login",e,n);case 6:c=t.sent,a({type:m,payload:c.data}),a(k()),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),a({type:x,payload:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:k})((function(e){var t=e.loginUser,a=(e.loadUser,Object(n.useState)({email:"",password:""})),c=Object(_.a)(a,2),r=c[0],s=c[1],o=function(e){s(Object(U.a)(Object(U.a)({},r),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(T.jsx)("div",{className:"row mt-5",children:Object(T.jsxs)("div",{className:"col-lg-6 card card-custom ml-auto mr-auto mt-5",children:[Object(T.jsx)("h2",{className:"text-center mt-5",children:"Login to Access your account"}),Object(T.jsx)("form",{class:"form",action:"/login",method:"post",children:Object(T.jsxs)("center",{children:[Object(T.jsxs)("div",{class:"col-lg-4 mt-4",children:[Object(T.jsx)("input",{class:"form-control",onChange:o,name:"email",placeholder:"Enter Your Email"}),Object(T.jsx)("br",{}),Object(T.jsx)("input",{class:"form-control",onChange:o,type:"password",name:"password",placeholder:"Enter Your Password"}),Object(T.jsx)("br",{})]}),Object(T.jsx)(C.b,{class:"btn-dark btn",type:"button",to:"/",onClick:function(){var e=r.email,a=r.password;""===e&&""===a?console.log("Please Enter All the Fields"):t({email:e,password:a})},id:"login",children:"Login"})]})}),Object(T.jsx)("center",{children:Object(T.jsxs)("p",{class:"text-center mt-3 mb-5",children:["New User? ",Object(T.jsx)("a",{href:"/register",children:"Register Here"})]})})]})})}));var I=Object(s.b)(null,{filterTeachers:function(e){return{type:v,payload:e}}})((function(e){var t=e.filterTeachers;return Object(T.jsx)("div",{className:" col-lg-12 d-md-flex justify-content-md-end",children:Object(T.jsxs)("form",{class:"d-flex col-lg-4 mt-3 ml-5 mr-5 pr-5",children:[Object(T.jsx)("input",{class:"form-control me-2 mr-2",onChange:function(e){console.log(e.target.value),t(e.target.value)},type:"text",placeholder:"Search based on teacher name and subject"}),Object(T.jsx)("button",{class:"btn btn-outline-dark mr-4",type:"button",children:"Search"})]})})}));var B=function(e){var t=e.teacher;return Object(T.jsxs)("div",{className:"box bg-light card align-items-center text-center ml-5 mt-4 mb-4",style:{height:"400px"},onWheel:function(e){e.target.id&&(e.target.style.transform="scale(1)",console.log(e.target.id))},id:t.name,onMouseLeave:function(e){e.target.style.transform="scale(1)"},onMouseEnter:function(e){e.target.style.transform="scale(1.09)"},children:[Object(T.jsx)("img",{className:"card-img-top rounded-circle mt-4 mb-2",style:{width:"150px",height:"150px"},src:t.image}),Object(T.jsx)("h4",{children:t.name}),Object(T.jsxs)("label",{children:["I teach ",Object(T.jsx)("strong",{children:t.subject})]}),Object(T.jsx)("p",{className:"ml-3 mr-2 mt-2 text-body",children:t.detail.slice(0,100)+" ..."}),Object(T.jsx)(C.b,{to:"/teacher/".concat(t.name),query:t,className:"btn btn-primary w-95 mb-3",children:"View Full Profile"})]})};var F=Object(s.b)((function(e){return{teachers:e.user.filtered}}),{getTeachers:w})((function(e){var t=e.teachers,a=e.getTeachers;Object(n.useEffect)((function(){a()}),[]);var c=0;return Object(T.jsx)("div",{className:"bigbox mt-5 pr-5",children:null!==t&&t.map((function(e){return c++,Object(T.jsx)(B,{teacher:e},c)}))})}));var G=function(){return Object(T.jsxs)("div",{className:"mb-5",children:[Object(T.jsx)(I,{}),Object(T.jsx)(F,{})]})};var Y=Object(s.b)(null,{addUser:function(e){return function(){var t=Object(i.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(E()),n={headers:{"Content-Type":"application/json"}},t.next=5,b.a.post("/api/users",e,n);case 5:c=t.sent,console.log(c.data),a({type:d,payload:c.data}),a(k()),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),a({type:x,payload:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addUser,a=Object(n.useState)({name:"",email:"",password:"",password2:"",type:"student"}),c=Object(_.a)(a,2),r=c[0],s=c[1],o=function(e){s(Object(U.a)(Object(U.a)({},r),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(T.jsx)("div",{className:"row mt-5",children:Object(T.jsxs)("div",{className:"col-lg-6 card card-custom ml-auto mr-auto mt-5 pb-4",children:[Object(T.jsx)("h2",{className:"text-center mt-5",children:"Create Your Account"}),Object(T.jsx)("form",{className:"form",action:"/login",method:"post",children:Object(T.jsxs)("center",{children:[Object(T.jsxs)("div",{class:"col-lg-4 mt-4",children:[Object(T.jsx)("input",{className:"form-control",onChange:o,name:"name",placeholder:"Enter Your Full Name"}),Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"form-control",onChange:o,name:"email",placeholder:"Enter Your Email"}),Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"form-control",onChange:o,type:"password",name:"password",placeholder:"Enter Your Password"}),Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"form-control",onChange:o,type:"password",name:"password2",placeholder:"Confirm Your Password"}),Object(T.jsx)("br",{})]}),Object(T.jsx)(C.b,{type:"button",onClick:function(){var e=r.name,a=r.email,n=r.password,c=r.password2,s=r.type;n!==c?console.log("Passwords do not match"):t({name:e,email:a,password:n,type:s})},to:"/",className:"btn-dark btn mb-3",id:"register",children:"Register"})]})})]})})})),P=a(16),D=a(36),J=a(37),M=a(39),W={user:null,loading:!1,teachers:null,bookings:null,errors:null,isAuthenticated:!1,token:null,filtered:null},q=Object(P.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case d:return localStorage.setItem("token",t.payload.token),Object(U.a)(Object(U.a)({},e),{},{isAuthenticated:!0,loading:!1,token:t.payload});case u:return Object(U.a)(Object(U.a)({},e),{},{loading:!1,user:t.payload,token:localStorage.token,isAuthenticated:!0});case O:return Object(U.a)(Object(U.a)({},e),{},{bookings:[].concat(Object(M.a)(e.bookings),[t.payload]),loading:!1});case f:return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case g:return console.log("removed"),localStorage.removeItem("token"),Object(U.a)(Object(U.a)({},e),{},{loading:!1,user:null,token:null,isAuthenticated:!1,bookings:null,errors:null});case v:return Object(U.a)(Object(U.a)({},e),{},{filtered:e.teachers.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.name.match(a)||e.subject.match(a)}))});case h:return Object(U.a)(Object(U.a)({},e),{},{loading:!1,teachers:t.payload,filtered:t.payload});case p:return Object(U.a)(Object(U.a)({},e),{},{bookings:t.payload,loading:!1});case x:return Object(U.a)(Object(U.a)({},e),{},{errors:t.payload.message});default:return e}}}),H=[J.a],K=Object(P.createStore)(q,{},Object(D.composeWithDevTools)(P.applyMiddleware.apply(void 0,H)));var V=Object(s.b)((function(e){return{teachers:e.user.teachers}}),{getTeachers:w,addBooking:function(e){return function(){var t=Object(i.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E()),t.prev=1,t.next=4,b.a.post("/api/booking",e);case 4:n=t.sent,console.log(n.data),a({type:O,payload:e}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),a({type:x,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)({date:"",info:""}),a=Object(_.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({image:"",name:"djsdsn"}),o=Object(_.a)(s,2),l=o[0],i=o[1],j=e.teachers,b=e.getTeachers,d=e.addBooking,u={};Object(n.useEffect)((function(){var t=e.match.params.teacher;b(),j&&(u=(u=j.filter((function(e){return e.name===t})))[0],i(u))}),[]);var m=function(e){r(Object(U.a)(Object(U.a)({},c),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(T.jsxs)("div",{className:"row m-5 pl-5",children:[Object(T.jsxs)("div",{className:"col-lg-3",children:[Object(T.jsx)("img",{className:"card-img-top bg-secondary p-2 w-75 mt-4 mb-2",alt:"jbfsk",src:l.image}),Object(T.jsx)("h4",{children:l.name}),Object(T.jsxs)("p",{children:[Object(T.jsx)("i",{class:"fa fa-map-marker"})," ",l.location]})]}),Object(T.jsxs)("div",{className:"col-lg-5",children:[Object(T.jsx)("h3",{children:l.name.toUpperCase()}),Object(T.jsx)("label",{className:"border border-2 border-secondary mt-4 display-inline pl-1 pr-1 rounded",children:l.subject}),Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:" Why Should you hire me? "})," "]}),Object(T.jsx)("p",{children:l.detail}),Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:" Language of Instruction "})," "]}),Object(T.jsx)("p",{children:"English"}),Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:" Fees "})," "]}),Object(T.jsxs)("p",{children:["\u20b9 ",l.fee," per Session"]}),Object(T.jsx)("p",{children:"Each session is of 1:00 hr duration"})]}),Object(T.jsxs)("div",{className:"col-lg-3",children:[Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:" Fees "})," "]}),Object(T.jsxs)("p",{children:["\u20b9 ",l.fee," per Session"]}),Object(T.jsx)("p",{children:"Each session is of 1:00 hr duration"}),Object(T.jsxs)("form",{className:"card p-3 mt-5 bg-light",onSubmit:function(e){e.preventDefault(),c.date=c.date.split("-").join("/"),c.date=c.date.split("T").join(" "),console.log(c);var t={time:c.date,subject:l.subject,teacher:l._id,teacher_name:l.name,info:c.info};d(t),r({date:"",info:""}),document.getElementsByName("date")[0].value="",alert("Booking Successful")},children:[Object(T.jsx)("h5",{className:"text-center mb-4 mt-2",children:"Schedule your class"}),Object(T.jsx)("input",{type:"datetime-local",onChange:m,name:"date",className:"form-control mb-2",placeholder:"Select the date and time of session"}),Object(T.jsx)("textarea",{rows:"2",onChange:m,name:"info",value:c.info,className:"form-control mb-3",placeholder:"Enter your Experience/ Expectations/ Requirements ..."}),Object(T.jsx)("button",{className:"btn btn-outline-primary",children:"Schedule class"})]})]})]})}));var z=function(e){var t=e.booking;return Object(T.jsx)("div",{className:"bg-light col-md-3 card m-5 p-4",children:Object(T.jsxs)("div",{className:"card p-2 pl-3",children:[Object(T.jsxs)("p",{children:["Class At ",Object(T.jsx)("strong",{children:t.time})]}),Object(T.jsxs)("p",{children:["Topic is on ",Object(T.jsx)("strong",{children:t.subject})]}),Object(T.jsxs)("p",{children:["Teacher Name is ",Object(T.jsx)(C.b,{to:"/teacher/".concat(t.teacher_name),className:"text-info",children:t.teacher_name})]}),Object(T.jsx)("button",{type:"buttton",className:"btn btn-outline-primary mr-2 mb-2 mt-2",onClick:function(){return alert("You have joined the class")},children:" Join the class"})]})})};var Q=Object(s.b)((function(e){return{bookings:e.user.bookings}}),{getBookings:N})((function(e){var t=e.bookings,a=(e.getBookings,Object(n.useState)([])),c=Object(_.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){s(t)})),Object(T.jsxs)(n.Fragment,{children:[Object(T.jsx)("h3",{className:"text-center m-3 mt-4",children:"List of your Classes"}),null!==r&&r.length>0?Object(T.jsx)("div",{className:"row pl-3 pr-3 m-auto mt-3",children:r.map((function(e){return Object(T.jsx)(z,{booking:e})}))}):Object(T.jsx)("div",{className:"text-center p-3 bg-warning m-5",children:Object(T.jsx)("h3",{children:"You haven't done any bookings"})})]})})),X=a(38);var Z=Object(s.b)((function(e){return{user:e.user}}))((function(e){var t=e.component,a=e.user,n=a.isAuthenticated,c=a.loading,r=Object(X.a)(e,["component","user"]);return Object(T.jsx)(S.b,Object(U.a)(Object(U.a)({},r),{},{render:function(e){return n||c||localStorage.token?Object(T.jsx)(t,Object(U.a)({},e)):Object(T.jsx)(S.a,{to:"/login"})}}))}));var $=function(e){return e.loadUser,Object(T.jsx)(s.a,{store:K,children:Object(T.jsx)(n.Fragment,{children:Object(T.jsxs)(C.a,{children:[Object(T.jsx)(R,{}),Object(T.jsxs)(S.d,{children:[Object(T.jsx)(Z,{exact:!0,path:"/",component:G}),Object(T.jsx)(S.b,{exact:!0,path:"/login",component:L}),Object(T.jsx)(S.b,{exact:!0,path:"/register",component:Y}),Object(T.jsx)(Z,{exact:!0,path:"/teacher/:teacher",component:V}),Object(T.jsx)(Z,{exact:!0,path:"/bookings",component:Q})]})]})})})};a(73);r.a.render(Object(T.jsx)($,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.5e51789b.chunk.js.map